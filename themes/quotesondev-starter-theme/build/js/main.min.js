!function(o){o(function(){o(".show-me").on("click",function(e){e.preventDefault(),o.ajax({method:"get",url:qod_api.rest_url+"wp/v2/posts?filter[orderby]=rand&filter[posts_per_page]=1"}).done(function(e){console.log(e),o("#quote-author").text(e[0].slug),o(".quote").html(e[0].content.rendered),e[0]._qod_quote_source&&e[0]._qod_quote_source_url?o(".quote-source").html("<div class='quote-source'>, <a href='"+e[0]._qod_quote_source_url+"'>"+e[0]._qod_quote_source+"</a></div>"):e[0]._qod_quote_source&&!e[0]._qod_quote_source_url?o(".quote-source").html("<div class='source' id='source'>, "+e[0]._qod_quote_source+"</div>"):o(".quote-source").html("")}).fail(function(o){console.log("error",o)})})}),o("form").on("submit",function(e){let t=o("#author").val().trim().length<1?null:o("#author").val(),u=o("#quote").val().trim().length<1?null:o("#quote").val(),r=o("#source").val().trim().length<1?null:o("#source").val(),l=o("#url").val().trim().length<1?null:o("#url").val();e.preventDefault(),o.ajax({method:"post",url:qod_api.rest_url+"wp/v2/posts/",data:{title:t,content:u,post_status:"publish",_qod_quote_source:r,_qod_quote_source_url:l},beforeSend:function(o){o.setRequestHeader("X-WP-Nonce",qod_api.nonce)}}).done(function(){alert("Success! Comments are closed for this post.")}).fail(function(){alert("submission failed")})})}(jQuery);