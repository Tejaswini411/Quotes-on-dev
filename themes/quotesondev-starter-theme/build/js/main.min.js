!function(o){o(function(){let e="";o(".show-me").on("click",function(t){t.preventDefault(),e=document.URL,o.ajax({method:"get",url:qod_api.rest_url+"wp/v2/posts?filter[orderby]=rand&filter[posts_per_page]=1",cache:!1}).done(function(e){console.log(e),o("#quote-author").html("- "+e[0].title.rendered),o(".quote").html(e[0].content.rendered),e[0]._qod_quote_source&&e[0]._qod_quote_source_url?o(".quote-source").html("<div class='quote-source'>, <a href='"+e[0]._qod_quote_source_url+"'>"+e[0]._qod_quote_source+"</a></div>"):e[0]._qod_quote_source&&!e[0]._qod_quote_source_url?o(".quote-source").html("<div class='source' id='source'>, "+e[0]._qod_quote_source+"</div>"):o(".quote-source").html("");const t=qod_api.home_url+"/"+e[0].slug+"/";history.pushState(null,null,t)}).fail(function(o){console.log("error",o)})}),o(window).on("popstate",function(){if(1===window.location.hash.indexOf("qm-overview"))return!1;window.location.replace(e)}),o("form").on("submit",function(e){let t=o("#author").val().trim().length<1?null:o("#author").val(),u=o("#quote").val().trim().length<1?null:o("#quote").val(),l=o("#source").val().trim().length<1?null:o("#source").val(),r=o("#url").val().trim().length<1?null:o("#url").val();e.preventDefault(),o.ajax({method:"post",url:qod_api.rest_url+"wp/v2/posts/",data:{title:t,content:u,post_status:"publish",_qod_quote_source:l,_qod_quote_source_url:r},beforeSend:function(o){o.setRequestHeader("X-WP-Nonce",qod_api.nonce)}}).done(function(){alert("Success! Comments are closed for this post.")}).fail(function(){alert("submission failed")})})})}(jQuery);